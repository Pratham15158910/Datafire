
#command git add [filename.txt] or add . used to add file to staging area
git add .

#git commit -m "Message" commits the file ans the changes made

git commit -m "A.txt done"

git branch

git branch Pratham

git checkout Pratham

git checkout -b Ishika

git branch -d Ishika


git remote add origin <link>

git push origin master

git pull orgin master

git clone

#Count Number in the Word

public int Op(){
		String str ="Hello HacKers Welcome";
		int count =0 ;
		int leng=str.length()-1;
		
		while(leng>=0) {

		char temp = str.charAt(leng);
			
		if(temp == 'a' || temp=='A') {
				count++;
		}
		x--;
			
	}
	return count;
}

#Check word Paindrome Or Not

public boolean op(){
	String x="nun",temp="";
	int i=x.length()-1;
	while(i>=0) {
	temp=temp+x.charAt(i);
		i--;
	}
	if(x.equals(temp)) {
		return true;
	}
	else {
		return false;
	}
}


#To reverse a Number

public int op(){
	int n=1234,reverse=0;
	while(n!=0) {
		int remainder=n%10;
		reverse=reverse*10+remainder;
		n=n/10;
	}
	return reverse;
}

#To check Prime or not

public int op(){
	int num=11,i=2,count=0;
	while(i<=num){
		if(num%i==0) {
			count++;
		}
		i++;
	}
	if(count==1) {
		return 1;
	}
	else{
	return 0;
}

#Asserts

void test() {
		String name1="Roy",name2="Roy",name3="Pratham",name4=null;
		int roll1=1,roll2=2;
		int arr0 []= {1,2,3,4,5,6};
		int arr1 []= {1,2,3,4,5,6};
		
		assertEquals(name1,name2);
		assertSame(name3,name3);
		assertNotSame(name1,name3);
		assertNull(name4);
		assertNotNull(name4);
		assertTrue(roll1 != roll2);
		assertArrayEquals(arr0,arr1);
		
				
}



